<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head>
    <meta charset="UTF-8">
    <title>Hotel Hub Admin</title>
    <link rel="stylesheet" href="/css/site.css"/>
</head>
<body>
<!-- Top nav -->
<nav>
    <a th:href="@{/staff/dashboard}">Hotel Hub Admin</a>
    <form th:action="@{/logout}" method="post" style="display:inline;">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
        <button type="submit">Logout</button>
    </form>
</nav>

<div class="layout">
    <!-- Sidebar -->
    <aside class="sidebar">
        <h3>Dashboard</h3>
        <ul>
            <li><a th:href="@{/staff/bookings}">Bookings</a></li>
            <li><a th:href="@{/staff/customers}">Customers</a></li>
            <li><a th:href="@{/staff/packages}">Packages</a></li>
            <li><a th:href="@{/staff/rooms}">Rooms</a></li>
            <li><a th:href="@{/staff/reports}">Reports</a></li>
        </ul>
    </aside>

    <!-- Main content -->
    <main class="main-content">
        <h2>Welcome, <span th:text="${username}">Staff</span>!</h2>

        <section class="stats-grid">
            <div class="card">
                <h4>Total Customers</h4>
                <p th:text="${totalCustomers}">0</p>
            </div>
            <div class="card">
                <h4>Total Bookings</h4>
                <p th:text="${totalBookings}">0</p>
            </div>
            <div class="card">
                <h4>New Bookings</h4>
                <p th:text="${newBookings}">0</p>
            </div>
            <div class="card">
                <h4>Pending Today</h4>
                <p th:text="${pendingBookings}">0</p>
            </div>
            <div class="card">
                <h4>Completed</h4>
                <p th:text="${completedBookings}">0</p>
            </div>
            <div class="card">
                <h4>Cancelled</h4>
                <p th:text="${cancelledBookings}">0</p>
            </div>
            <div class="card revenue">
                <h4>Total Revenue</h4>
                <p th:text="'RM ' + ${#numbers.formatDecimal(totalRevenue, 2, 2)}">RM 0.00</p>
            </div>
        </section>
    </main>
</div>
</body>
</html>
