<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title th:text="${formTitle}">Room Form</title>
    <link rel="stylesheet" th:href="@{/css/site.css}" />
</head>
<body>
<nav>
    <a th:href="@{/staff/rooms}">‚Üê Back to Rooms</a>
</nav>

<h2 th:text="${formTitle}">Room Form</h2>

<form th:action="@{${room.roomId} != null ? '/staff/rooms/' + ${room.roomId} + '/edit' : '/staff/rooms/new'}"
      th:object="${room}" method="post">
    <input type="hidden" name="_csrf" th:value="${_csrf.token}" />

    <label>Room Number:
        <input type="text" th:field="*{roomNumber}" required />
    </label>
    <div th:if="${#fields.hasErrors('roomNumber')}" style="color: red;">
        <p th:errors="*{roomNumber}"></p>
    </div>
    <br/>

    <label>Status:
        <select th:field="*{status}" required>
            <option value="AVAILABLE">Available</option>
            <option value="OCCUPIED">Occupied</option>
            <option value="MAINTENANCE">Maintenance</option>
        </select>
    </label><br/>

    <label>Price Per Night:
        <input type="number" step="0.01" th:field="*{pricePerNight}" required />
    </label><br/>

    <label>Room Type:
        <select th:field="*{roomType.roomTypeId}" required>
            <option th:each="type : ${types}"
                    th:value="${type.roomTypeId}"
                    th:text="${type.typeName}">
            </option>
        </select>
    </label><br/>

    <button type="submit">Save</button>
</form>
</body>
</html>
